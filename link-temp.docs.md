This code defines the `Gemini` model class for use with the LLM tool. It configures the Gemini AI model to be used through the Google Vertex API. The class handles constructing messages to be sent to the model based on the prompt, system prompt, and any previous conversation history. The model supports response streaming by yielding tokens as they're received from the API. Authentication is managed through the Google Cloud authentication system, and the code includes parameters for controlling model behavior like temperature and maximum output tokens. Errors from the API are caught and converted into human-readable error messages. The implementation supports both standard prompts and structured chat interfaces.

<!-- Generated from commit: 457c6dec714c6f5da1713945c99e43ceb612f9e8 -->